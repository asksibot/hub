<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OT-Hub Bookstore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            color: #333;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
            padding: 20px;
        }
        header {
            background: #4CAF50;
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        nav {
            background: #333;
            overflow: hidden;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        nav a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            cursor: pointer;
        }
        nav a:hover {
            background-color: #ddd;
            color: black;
        }
        .affiliate-note {
            font-size: 0.9em;
            color: #555;
            text-align: center;
            margin: 10px 0;
        }
        .category {
            background: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .category h2 {
            color: #4CAF50;
            margin-top: 0;
        }
        .category p.purpose {
            font-weight: bold;
        }
        .activities {
            list-style-type: none;
            padding: 0;
        }
        .activity {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .activity:last-child {
            border-bottom: none;
        }
        .activity h3 {
            margin: 0 0 5px 0;
            font-size: 1.2em;
            color: #333;
        }
        .activity a {
            color: #4CAF50;
            text-decoration: none;
        }
        .activity a:hover {
            text-decoration: underline;
        }
        footer {
            text-align: center;
            padding: 15px 0;
            background: #333;
            color: #fff;
            margin-top: 20px;
        }

        /* Search Styles */
        .search-section {
            background: #fff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .search-section button {
            padding: 10px 20px;
            background-color: #4CAF50;
            border: none;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            width: 100%;
            max-width: 200px;
        }
        .search-section button:hover {
            background-color: #45a049;
        }

        /* Modal Styles */
        .modal-overlay { 
            display: none; 
            position: fixed; 
            z-index: 999; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0, 0, 0, 0.5); 
        }
        .modal { 
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 50%; 
            top: 50%; 
            width: 80%; 
            max-width: 800px; 
            transform: translate(-50%, -50%); 
            background-color: #fff; 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            overflow-y: auto; 
            max-height: 80vh; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .modal-header { 
            padding: 10px; 
            background-color: #4e79a7; 
            color: #fff; 
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-content { 
            padding: 20px; 
        }
        .modal-close { 
            font-size: 24px; 
            cursor: pointer; 
        }
        .modal-actions { 
            text-align: right; 
            padding: 20px; 
            border-top: 1px solid #ddd; 
        }
        .modal-actions button { 
            padding: 10px 15px; 
            font-size: 14px; 
            cursor: pointer; 
            border: none; 
            border-radius: 5px; 
            margin-left: 10px;
        }
        .print-btn { 
            background-color: #FF5722; 
            color: white; 
        }
        .pdf-btn { 
            background-color: #9C27B0; 
            color: white; 
        }

        /* CTA Buttons Styles */
        .cta-buttons { 
            margin-top: 15px; 
        }
        .cta-buttons button { 
            margin-right: 10px; 
            padding: 10px 15px; 
            font-size: 14px; 
            cursor: pointer; 
            border: none; 
            border-radius: 5px; 
            color: white;
        }
        .buy-now { 
            background-color: #4CAF50; 
        }
        .read-more { 
            background-color: #2196F3; 
        }
        .wishlist { 
            background-color: #FF9800; 
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            nav a {
                float: none;
                width: 100%;
            }
            .container {
                width: 100%;
                padding: 10px;
            }
            header h1 {
                font-size: 2em;
            }
            .search-section button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>OT-Hub Bookstore</h1>
        <p>Tailored Resources and Activities to Support Your Unique Needs</p>
    </header>

    <nav>
        <a data-category="Individual">Individual</a>
        <a data-category="Neurodivergent-Individual">Neurodivergent Individual</a>
        <a data-category="Caregiver">Caregiver</a>
        <a data-category="Therapist">Therapist</a>
        <a data-category="Seeking-Information">Seeking Information on Sensory Integration</a>
        <a data-category="ADHD">ADHD</a>
        <a data-category="XXY">XXY (Klinefelter Syndrome)</a>
        <a data-category="Dyslexia">Dyslexia</a>
        <a data-category="Dyspraxia">Dyspraxia</a>
        <a data-category="Tourette-Syndrome">Tourette Syndrome</a>
        <a data-category="OCD">Obsessive-Compulsive Disorder (OCD)</a>
        <a data-category="Bipolar-Disorder">Bipolar Disorder</a>
        <a data-category="Schizophrenia">Schizophrenia</a>
        <a data-category="ASD">Autism Spectrum Disorder (ASD)</a>
        <a data-category="Sensory-Avoiders">Sensory Avoiders</a>
        <a data-category="Sensory-Seekers">Sensory Seekers</a>
        <a data-category="Green-Therapy">Green Therapy Issues</a>
        <a data-category="SMART-Goals">SMART Goals</a>
        <a data-category="Executive-Function">Executive Function Issues</a>
        <a data-category="Pictograms-Communication">Pictograms Communication Issues</a>
        <a data-category="Transgender">Transgender</a>
        <a data-category="Gender-Identity">Gender Identity Issues</a>
        <a data-category="Family-Issues">Family Issues</a>
        <a data-category="Narcissistic-Mother">Narcissistic Mother</a>
        <a data-category="Abuse">Abuse</a>
    </nav>

    <div class="container">
        <p class="affiliate-note">Note: This page contains affiliate links. We may earn a commission if you make a purchase through these links, at no additional cost to you.</p>

        <!-- Categories and Activities -->
        <!-- Example Category: Individual -->
        <div class="category" id="Individual">
            <h2>1. Individual</h2>
            <p class="purpose">Support individuals experiencing sensory integration challenges by providing activities that promote self-regulation and sensory processing.</p>
            <ul class="activities">
                <li class="activity">
                    <h3>Deep Pressure Therapy (Weighted Blankets)</h3>
                    <p><strong>Description:</strong> Using weighted blankets to provide deep pressure stimulation can help calm the nervous system.</p>
                    <p><strong>Link:</strong> <a href="https://www.amazon.com/Weighted-Blankets" target="_blank">Weighted Blankets on Amazon</a></p>
                    <p><strong>Reasoning:</strong> Deep pressure can reduce anxiety and improve focus by providing consistent sensory input.</p>
                </li>
                <li class="activity">
                    <h3>Swing Therapy</h3>
                    <p><strong>Description:</strong> Gentle swinging motions can help individuals regulate their sensory systems.</p>
                    <p><strong>Link:</strong> <a href="https://www.healthline.com/health/swing-therapy-benefits" target="_blank">Benefits of Swing Therapy</a></p>
                    <p><strong>Reasoning:</strong> Rhythmic movement can soothe the nervous system and improve motor planning.</p>
                </li>
                <!-- Additional Activities... -->
            </ul>
        </div>

        <!-- Repeat similar blocks for other categories like Neurodivergent Individual, Caregiver, etc. -->

        <!-- Popup Modal -->
        <div id="modal-overlay" class="modal-overlay"></div>
        <div id="recommendation-modal" class="modal">
            <div class="modal-header">
                <h2 id="modal-title">Recommended Resources</h2>
                <span class="modal-close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- Recommendations will be dynamically inserted here -->
            </div>
            <div class="modal-actions">
                <button class="print-btn" onclick="printRecommendations()">Print</button>
                <button class="pdf-btn" onclick="saveAsPDF()">Save as PDF</button>
            </div>
        </div>

        <!-- Search Section at the Bottom -->
        <div class="search-section">
            <h2>Search for Resources</h2>
            <!-- Removed the input field as per your request -->
            <button onclick="openSurvey()">Search</button>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Asksibot OT Hub Bookstore. All rights reserved.</p>
        <p>Follow us on 
            <a href="https://www.facebook.com/asksibot" target="_blank" style="color: #fff; text-decoration: underline;">Facebook</a>, 
            <a href="https://www.twitter.com/asksibot" target="_blank" style="color: #fff; text-decoration: underline;">Twitter</a>, and 
            <a href="https://www.instagram.com/asksibot" target="_blank" style="color: #fff; text-decoration: underline;">Instagram</a>.
        </p>
    </footer>

    <!-- JavaScript for Opening Survey in New Window and Handling Modal -->
    <script>
        // Sample Data: Replace with your actual data or fetch from an API
        const books = {
            'Individual': [
                {
                    title: 'Learning with Purpose',
                    author: 'Jane Doe',
                    description: 'This book explores effective strategies for enhancing cognitive development in the classroom.',
                    audience: ['teacher', 'parent-guardian'],
                    condition: ['cognitive-development'],
                    link: 'https://example.com/buy-now-link.html',
                    readMore: 'https://example.com/read-more-link.html'
                },
                {
                    title: 'School Success Strategies',
                    author: 'John Smith',
                    description: 'Comprehensive techniques to foster a successful learning environment.',
                    audience: ['teacher'],
                    condition: ['school-success'],
                    link: 'https://example.com/buy-now-link2.html',
                    readMore: 'https://example.com/read-more-link2.html'
                }
                // Add more books as needed
            ],
            'Neurodivergent-Individual': [
                {
                    title: 'Social Stories for Success',
                    author: 'Emily Clark',
                    description: 'Personalized stories to navigate social situations and sensory challenges.',
                    audience: ['individual', 'therapist'],
                    condition: ['social-skills'],
                    link: 'https://example.com/buy-now-link3.html',
                    readMore: 'https://example.com/read-more-link3.html'
                }
                // Add more books as needed
            ],
            // Add other categories similarly
        };

        // Function to open the survey page in a new window
        function openSurvey() {
            window.open('survey.html', '_blank', 'width=600,height=600');
        }

        // Function to perform search across all categories (Removed as per request)
        /*
        function performSearch() {
            const query = document.getElementById('search-input').value.toLowerCase().trim();
            if (!query) {
                alert('Please enter a keyword to search.');
                return;
            }

            let matchedBooks = [];

            // Iterate through all categories and books to find matches
            for (let category in books) {
                books[category].forEach(book => {
                    if (book.title.toLowerCase().includes(query) || book.description.toLowerCase().includes(query)) {
                        matchedBooks.push(book);
                    }
                });
            }

            // Display results in modal
            const modalTitle = 'Search Results';
            if (matchedBooks.length === 0) {
                showModal(modalTitle, '<p>No recommendations found for the entered keyword.</p>');
            } else {
                let content = '<ul>';
                matchedBooks.forEach(book => {
                    content += `
                        <li class="activity">
                            <h3>${book.title} by ${book.author}</h3>
                            <p><strong>Description:</strong> ${book.description}</p>
                            <div class="cta-buttons">
                                <button class="buy-now" onclick="window.open('${book.link}', '_blank')">Buy Now</button>
                                <button class="read-more" onclick="window.open('${book.readMore}', '_blank')">Read More</button>
                                <button class="wishlist" onclick="addToWishlist('${book.title}')">Add to Wishlist</button>
                            </div>
                        </li>
                    `;
                });
                content += '</ul>';
                showModal(modalTitle, content);
            }
        }
        */

        // Function to show modal with dynamic content
        function showModal(title, content) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('modal-overlay').style.display = 'block';
            document.getElementById('recommendation-modal').style.display = 'block';
        }

        // Function to close modal
        function closeModal() {
            document.getElementById('modal-overlay').style.display = 'none';
            document.getElementById('recommendation-modal').style.display = 'none';
        }

        // Function to print recommendations
        function printRecommendations() {
            const printContent = document.getElementById('modal-content').innerHTML;
            const originalContent = document.body.innerHTML;
            document.body.innerHTML = printContent;
            window.print();
            document.body.innerHTML = originalContent;
            location.reload(); // Reload to restore event listeners
        }

        // Function to save recommendations as PDF (simple implementation)
        function saveAsPDF() {
            window.print(); // For advanced PDF generation, consider using libraries like jsPDF
        }

        // Function to add a book to the wishlist
        function addToWishlist(bookTitle) {
            // Simple implementation: alert the user
            alert(`${bookTitle} has been added to your wishlist!`);
            // In a real application, implement persistent storage (e.g., localStorage or backend)
        }

        // Event listener to close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('recommendation-modal');
            if (event.target == document.getElementById('modal-overlay')) {
                closeModal();
            }
        }

        // Function to handle category clicks to show recommendations
        document.querySelectorAll('nav a').forEach(navLink => {
            navLink.addEventListener('click', () => {
                const categoryId = navLink.getAttribute('data-category');
                const categoryBooks = books[categoryId] || [];

                if (categoryBooks.length === 0) {
                    showModal('No Recommendations', '<p>No recommendations found for this category.</p>');
                } else {
                    let content = '<ul>';
                    categoryBooks.forEach(book => {
                        content += `
                            <li class="activity">
                                <h3>${book.title} by ${book.author}</h3>
                                <p><strong>Description:</strong> ${book.description}</p>
                                <div class="cta-buttons">
                                    <button class="buy-now" onclick="window.open('${book.link}', '_blank')">Buy Now</button>
                                    <button class="read-more" onclick="window.open('${book.readMore}', '_blank')">Read More</button>
                                    <button class="wishlist" onclick="addToWishlist('${book.title}')">Add to Wishlist</button>
                                </div>
                            </li>
                        `;
                    });
                    content += '</ul>';
                    showModal(`Recommendations for ${categoryId.replace(/-/g, ' ')}`, content);
                }
            });
        });
    </script>
</body>
</html>
